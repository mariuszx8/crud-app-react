{"version":3,"sources":["components/Campaigns.js","pages/Home.js","components/CampaignForm.js","pages/AddCampaign.js","pages/EditCampaign.js","App.js","index.js"],"names":["Campaigns","useState","data","setData","useEffect","cData","JSON","parse","localStorage","getItem","a","length","res","require","setItem","stringify","fetchData","className","map","item","name","keywords","keyword","index","status","bidAmount","fund","town","radius","to","style","alignItems","onClick","window","confirm","paramID","campaignData","i","_id","splice","location","reload","deleteHandler","Home","CampaignForm","onSubmit","event","preventDefault","target","value","newCampaign","split","sort","b","Math","random","join","alert","type","placeholder","required","min","AddCampaign","EditCampaign","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.85c3a7ba.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n// import axios from 'axios'; // http client for node\r\nimport '../App.scss';\r\nimport './Campaigns.scss';\r\n//GET request\r\nfunction Campaigns() {\r\n\r\n    const [data,setData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        var cData = JSON.parse(localStorage.getItem(\"campaignData\"));\r\n        async function fetchData() {\r\n            if (cData!=null && cData.length>1) {\r\n                setData(cData);\r\n            } else {\r\n                const res = require('../data/db_copy.json');\r\n                setData(res.data);\r\n                localStorage.setItem(\"campaignData\", JSON.stringify(res.data));\r\n            }\r\n        }\r\n        fetchData();\r\n        \r\n    }, []); // empty array means this effect will run only once\r\n\r\n    function deleteHandler(paramID) {\r\n        var campaignData = JSON.parse(localStorage.getItem(\"campaignData\"));\r\n        for (var i =0; i< campaignData.length; i++) {\r\n            if (campaignData[i]._id === paramID) {\r\n               campaignData.splice(i, 1);\r\n            }\r\n        }\r\n        localStorage.setItem(\"campaignData\", JSON.stringify(campaignData));\r\n        window.location.reload(false);\r\n    }\r\n\r\n\r\n// Displaying campaigns list\r\n    return (\r\n        <div className=\"campaigns-list\">\r\n            <div className=\"name-header\">Campaigns:</div>\r\n            {data.map((item) => (\r\n                <div key={item._id} className=\"flex-container flex-column campaign-element\">\r\n                    <div className=\"campaign-name\">{item.name}</div>\r\n                    <div className=\"flex-container details-container\">\r\n                        <div className=\"campaign-details\">\r\n                            <div>\r\n                                Keywords: {item.keywords.map((keyword, index) => (<span key={index} className=\"keyword\">{keyword}</span>))}\r\n                            </div>\r\n                            <div>\r\n                                Status: <span className=\"bold\">{item.status ? \"on\" : \"off\"}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"campaign-details\">\r\n                            <div>\r\n                                Bid amount: <span className=\"bold\">{item.bidAmount} zł</span>\r\n                            </div>\r\n                            <div>\r\n                                Campaign fund: <span className=\"bold\">{item.fund} zł</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"campaign-details\">\r\n                            <div>\r\n                                Town: <span className=\"bold\">{item.town}</span>\r\n                            </div>\r\n                            <div>\r\n                                Radius: <span className=\"bold\">{item.radius} km</span>\r\n                                </div>\r\n                        </div>\r\n                        <div className=\"campaign-options\">\r\n                            <div className=\"edit-btn flex-container\">\r\n                                <Link to={`/EditCampaign`} className=\"flex-container\" style={{alignItems:'center'}}>\r\n                                    <span className=\"material-icons\">\r\n                                        edit\r\n                                    </span>\r\n                                    Edit\r\n                                </Link>\r\n                            </div>\r\n                            <div \r\n                                className=\"delete-btn flex-container\"\r\n                                onClick={() => {if(window.confirm('Are you sure you want to delete this campaign?')){deleteHandler(item._id)};}}\r\n                            >\r\n                                <span className=\"material-icons\">\r\n                                    delete\r\n                                </span>\r\n                                Delete\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Campaigns;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../App.scss';\r\nimport Campaigns from '../components/Campaigns';\r\nimport './Home.scss';\r\n\r\n// Home page responsible for read function is also homepage for an application\r\nfunction Home() {\r\n    return (\r\n        <div>\r\n            <Link to=\"/AddCampaign\" className=\"btn-add\"> \r\n                + Add campaign\r\n            </Link>\r\n            <Campaigns></Campaigns>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react'\r\nimport './CampaignForm.scss';\r\n\r\nfunction CampaignForm() {\r\n    \r\n    const saveData = (event) => {\r\n        event.preventDefault();\r\n        if(event.target.status.value===\"on\") {event.target.status.value=true} else {event.target.status.value=false};\r\n        var campaignData = JSON.parse(localStorage.getItem(\"campaignData\"));\r\n        var i = campaignData.length-1;\r\n        var newID = campaignData[i]._id.split('').sort((a, b) => 0.5 - Math.random());\r\n        var newCampaign = {\r\n            _id: newID.join(\"\"),\r\n            name: event.target.name.value,\r\n            keywords: event.target.keywords.value.split(\" \"),\r\n            bidAmount:event.target.bidAmount.value,\r\n            fund:event.target.fund.value,\r\n            status: event.target.status.value,\r\n            town: event.target.town.value,\r\n            radius: event.target.radius.value,\r\n        };\r\n        campaignData[i+1] = newCampaign;\r\n        localStorage.setItem(\"campaignData\", JSON.stringify(campaignData));\r\n        alert(\"Successfully added new campaign\");\r\n        window.location.reload(false);\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={saveData}>\r\n            <div>\r\n                <label>\r\n                    Campaign name:\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        placeholder=\"Enter campaign name\"\r\n                        required\r\n                    />\r\n                </label>\r\n            </div>\r\n            <div>\r\n                <label>\r\n                    Keywords:\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"keywords\"\r\n                        placeholder=\"Enter keywords for campaign\"\r\n                        required\r\n                    />\r\n                </label>\r\n                <label className=\"status\">\r\n                    Status (on/off):\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name='status'\r\n                    />\r\n                </label>\r\n            </div>\r\n            <div>\r\n                <label>\r\n                    Bid amount:\r\n                    <input\r\n                        type=\"number\"\r\n                        name=\"bidAmount\"\r\n                        placeholder=\"Enter bid amount\"\r\n                        min=\"1\"\r\n                        required\r\n                    />\r\n                </label>\r\n                <label>\r\n                    Campaign fund:\r\n                    <input\r\n                        type=\"number\"\r\n                        name=\"fund\"\r\n                        placeholder=\"Enter campaign fund\"\r\n                        min=\"1\"\r\n                        required\r\n                    />\r\n                </label>\r\n            </div>\r\n            <div>\r\n                <label>\r\n                    Town:\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"town\"\r\n                        placeholder=\"Enter town name\"\r\n                    />\r\n                </label>\r\n                <label>\r\n                    Radius [kilometers]:\r\n                    <input\r\n                        type=\"number\"\r\n                        name=\"radius\"\r\n                        placeholder=\"Enter campaign radius\"\r\n                        min=\"1\"\r\n                        required\r\n                    />\r\n                </label>\r\n            </div>\r\n        <div className=\"buttons\">\r\n            <button type=\"reset\">Reset</button>\r\n            <button type=\"submit\">Submit</button>\r\n        </div>    \r\n    </form>\r\n    )\r\n}\r\n\r\nexport default CampaignForm\r\n","import React from 'react';\r\n// import axios from 'axios';\r\nimport CampaignForm from '../components/CampaignForm';\r\nimport '../App.scss';\r\nimport './AddCampaign.scss';\r\n\r\n// Page for entering information about new campaign\r\nfunction AddCampaign() {\r\n\r\n    // const sendData = (event) => {\r\n    //     event.preventDefault();\r\n    //     console.log({\r\n    //         name: event.target.name.value,\r\n    //         keywords: event.target.keywords.value.split(\" \"),\r\n    //         bidAmount:event.target.bidAmount.value,\r\n    //         fund:event.target.fund.value,\r\n    //         status: event.target.status.value,\r\n    //         town: event.target.town.value,\r\n    //         radius: event.target.radius.value,\r\n    //     })\r\n    //     axios.post(\"http://192.109.240.27:8080/Campaign_add\", {\r\n    //         name: event.target.name.value,\r\n    //         keywords: event.target.keywords.value.split(\" \"),\r\n    //         bidAmount:event.target.bidAmount.value,\r\n    //         fund:event.target.fund.value,\r\n    //         status: event.target.status.value,\r\n    //         town: event.target.town.value,\r\n    //         radius: event.target.radius.value,\r\n    //     })\r\n    //     .then(res => console.log(res.data));\r\n    // }\r\n    \r\n    return (\r\n        <div>\r\n            <header>\r\n                <span>Add campaign</span>\r\n            </header>\r\n           <CampaignForm/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddCampaign\r\n","import React from 'react'\r\nimport CampaignForm from '../components/CampaignForm';\r\nimport '../App.scss';\r\nimport './AddCampaign.scss';\r\n\r\nfunction EditCampaign() {\r\n    return (\r\n        <div>\r\n            <header>\r\n                <span>Edit campaign</span>\r\n            </header>\r\n           <CampaignForm/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditCampaign\r\n","import React from 'react';\nimport './App.scss';\nimport {BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport {HashRouter} from 'react-router-dom'\nimport Home from './pages/Home';\nimport AddCampaign from './pages/AddCampaign';\nimport EditCampaign from './pages/EditCampaign';\n\nfunction App() {\n  return (\n    <div>\n      <HashRouter>\n        <Switch>\n          <Route exact path='/' component={Home}/>\n          <Route  exact path='/AddCampaign' component={AddCampaign}/>\n          <Route  exact path='/EditCampaign' component={EditCampaign}/>\n        </Switch>\n      </HashRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './App.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}