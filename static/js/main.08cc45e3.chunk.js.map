{"version":3,"sources":["components/Campaigns.js","pages/Home.js","components/CampaignForm.js","pages/AddCampaign.js","pages/EditCampaign.js","App.js","index.js"],"names":["Campaigns","useState","data","setData","useEffect","cData","localStorage","getItem","a","JSON","parse","res","setItem","stringify","fetchData","className","map","item","name","keywords","keyword","index","status","bidAmount","fund","town","radius","onClick","paramID","_id","to","style","alignItems","window","confirm","campaignData","i","length","splice","location","reload","deleteHandler","Home","CampaignForm","props","towns","el","push","uniqueTowns","Set","uniqueKeywords","Array","from","onSubmit","event","preventDefault","target","value","newCampaign","split","sort","b","Math","random","join","alert","removeItem","type","placeholder","required","list","id","option","min","AddCampaign","EditCampaign","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.08cc45e3.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n// import axios from 'axios'; // http client for node\r\nimport '../App.scss';\r\nimport './Campaigns.scss';\r\n//GET request\r\nfunction Campaigns() {\r\n\r\n    const [data,setData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        var cData = localStorage.getItem(\"campaignData\");\r\n        async function fetchData() {\r\n            if (cData!=null) {\r\n                setData(JSON.parse(cData));\r\n            } else {\r\n                var res = [{\"_id\":\"6155e3d99c855bb61558d2ec\",\"name\":\"Wiosenna odwilż\",\"keywords\":[\"wiosna\",\"promocja\",\"ceny\"],\"bidAmount\":300,\"fund\":5000,\"status\":true,\"town\":\"Warszawa\",\"radius\":40},{\"_id\":\"61560bba017d85faace7687c\",\"name\":\"Zima 2021\",\"keywords\":[\"zima\",\"promocja\",\"obniżka\"],\"bidAmount\":500,\"fund\":8000,\"status\":false,\"town\":\"Kraków\",\"radius\":20},{\"_id\":\"61562c995050127a4821732d\",\"name\":\"Sportowa Polska\",\"keywords\":[\"sport\",\"ruch\"],\"bidAmount\":700,\"fund\":9000,\"status\":true,\"town\":\"Warszawa\",\"radius\":400}];\r\n                setData(res);\r\n                localStorage.setItem(\"campaignData\", JSON.stringify(res));\r\n            }\r\n        }\r\n        fetchData();\r\n        \r\n    }, []); // empty array means this effect will run only once\r\n\r\n    function deleteHandler(paramID) {\r\n        var campaignData = JSON.parse(localStorage.getItem(\"campaignData\"));\r\n        for (var i =0; i< campaignData.length; i++) {\r\n            if (campaignData[i]._id == paramID) {\r\n                campaignData.splice(i, 1);\r\n            }\r\n        }\r\n        localStorage.setItem(\"campaignData\", JSON.stringify(campaignData));\r\n        window.location.reload(false);\r\n    }\r\n\r\n    function editHandler(paramID) {\r\n        localStorage.setItem(\"editedCampaign\", JSON.stringify(paramID));\r\n    }\r\n\r\n// Displaying campaigns list\r\n    return (\r\n        <div className=\"campaigns-list\">\r\n            <div className=\"name-header\">Campaigns:</div>\r\n            {data.map((item) => (\r\n                <div key={item._id} className=\"flex-container flex-column campaign-element\">\r\n                    <div className=\"campaign-name\">{item.name}</div>\r\n                    <div className=\"flex-container details-container\">\r\n                        <div className=\"campaign-details\">\r\n                            <div>\r\n                                Keywords: {item.keywords.map((keyword, index) => (<span key={index} className=\"keyword\">{keyword}</span>))}\r\n                            </div>\r\n                            <div>\r\n                                Status: <span className=\"bold\">{item.status ? \"on\" : \"off\"}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"campaign-details\">\r\n                            <div>\r\n                                Bid amount: <span className=\"bold\">{item.bidAmount} zł</span>\r\n                            </div>\r\n                            <div>\r\n                                Campaign fund: <span className=\"bold\">{item.fund} zł</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"campaign-details\">\r\n                            <div>\r\n                                Town: <span className=\"bold\">{item.town}</span>\r\n                            </div>\r\n                            <div>\r\n                                Radius: <span className=\"bold\">{item.radius} km</span>\r\n                                </div>\r\n                        </div>\r\n                        <div className=\"campaign-options\">\r\n                            <div className=\"edit-btn flex-container\">\r\n                                <Link onClick={() => {editHandler(item._id)}} to={`/EditCampaign`} className=\"flex-container\" style={{alignItems:'center'}}>\r\n                                    <span className=\"material-icons\">\r\n                                        edit\r\n                                    </span>\r\n                                    Edit\r\n                                </Link>\r\n                            </div>\r\n                            <div \r\n                                className=\"delete-btn flex-container\"\r\n                                onClick={() => {if(window.confirm('Are you sure you want to delete this campaign?')){deleteHandler(item._id)};}}\r\n                            >\r\n                                <span className=\"material-icons\">\r\n                                    delete\r\n                                </span>\r\n                                Delete\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Campaigns;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../App.scss';\r\nimport Campaigns from '../components/Campaigns';\r\nimport './Home.scss';\r\n\r\n// Home page responsible for read function is also homepage for an application\r\nfunction Home() {\r\n    return (\r\n        <div>\r\n            <Link to=\"/AddCampaign\" className=\"btn-add\"> \r\n                + Add campaign\r\n            </Link>\r\n            <Campaigns></Campaigns>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport './CampaignForm.scss';\r\n\r\nfunction CampaignForm(props) {\r\n    \r\n    //Array of towns for pre-populated dropdown list\r\n    let towns = [];\r\n    //Array of keywords for typeahead\r\n    let keywords = [];\r\n    var campaignData = JSON.parse(localStorage.getItem(\"campaignData\"));\r\n    for (var i =0; i< campaignData.length; i++) {\r\n        towns[i] = campaignData[i].town;\r\n        for (const el of campaignData[i].keywords) {\r\n            keywords.push(el);\r\n        }\r\n    }\r\n    var uniqueTowns = [...new Set(towns)];\r\n    var uniqueKeywords = Array.from([...new Set(keywords)]);\r\n\r\n    const saveData = (event) => {\r\n        event.preventDefault();\r\n        if(event.target.status.value===\"on\") {event.target.status.value=true} else {event.target.status.value=false};\r\n        var campaignData = JSON.parse(localStorage.getItem(\"campaignData\"));\r\n        var i = campaignData.length-1;\r\n        var newID = campaignData[i]._id.split('').sort((a, b) => 0.5 - Math.random());\r\n        var newCampaign = {\r\n            _id: newID.join(\"\"),\r\n            name: event.target.name.value,\r\n            keywords: event.target.keywords.value.split(\" \"),\r\n            bidAmount:event.target.bidAmount.value,\r\n            fund:event.target.fund.value,\r\n            status: event.target.status.value,\r\n            town: event.target.town.value,\r\n            radius: event.target.radius.value,\r\n        };\r\n        campaignData[i+1] = newCampaign;\r\n        localStorage.setItem(\"campaignData\", JSON.stringify(campaignData));\r\n        alert(\"Successfully added new campaign\");\r\n        if(localStorage.getItem(\"editedCampaign\")!=null) {\r\n            localStorage.removeItem(\"editedCampaign\");\r\n        };\r\n        window.location.reload(false);\r\n    }\r\n    return (\r\n        <form onSubmit={saveData}>\r\n            <div>\r\n                <label>\r\n                    Campaign name:\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        placeholder=\"Enter campaign name\"\r\n                        required\r\n                    />\r\n                </label>\r\n            </div>\r\n            <div>\r\n                <label>\r\n                    Keywords:\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"keywords\"\r\n                        placeholder=\"Enter keywords for campaign\"\r\n                        required\r\n                        list='keywords_list'\r\n                    />\r\n                     <datalist id=\"keywords_list\">\r\n                        {uniqueKeywords.map((option, index) =>(<option key={index} value={option}></option>))}\r\n                    </datalist>\r\n                </label>\r\n                <label className=\"status\">\r\n                    Status (on/off):\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name='status'\r\n                    />\r\n                </label>\r\n            </div>\r\n            <div>\r\n                <label>\r\n                    Bid amount:\r\n                    <input\r\n                        type=\"number\"\r\n                        name=\"bidAmount\"\r\n                        placeholder=\"Enter bid amount\"\r\n                        min=\"1\"\r\n                        required\r\n                    />\r\n                </label>\r\n                <label>\r\n                    Campaign fund:\r\n                    <input\r\n                        type=\"number\"\r\n                        name=\"fund\"\r\n                        placeholder=\"Enter campaign fund\"\r\n                        min=\"1\"\r\n                        required\r\n                    />\r\n                </label>\r\n            </div>\r\n            <div>\r\n                <label>\r\n                    Town:\r\n                    <input\r\n                        list=\"towns\"\r\n                        type=\"text\"\r\n                        name=\"town\"\r\n                        placeholder=\"Enter town name\"\r\n                    />\r\n                    <datalist id=\"towns\">\r\n                        {uniqueTowns.map((option, index) =>(<option key={index} value={option}></option>))}\r\n                    </datalist>\r\n                </label>\r\n                <label>\r\n                    Radius [kilometers]:\r\n                    <input\r\n                        type=\"number\"\r\n                        name=\"radius\"\r\n                        placeholder=\"Enter campaign radius\"\r\n                        min=\"1\"\r\n                        required\r\n                    />\r\n                </label>\r\n            </div>\r\n        <div className=\"buttons\">\r\n            <button type=\"reset\">Reset</button>\r\n            <button type=\"submit\">Submit</button>\r\n        </div>    \r\n    </form>\r\n    )\r\n}\r\n\r\nexport default CampaignForm\r\n","import React from 'react';\r\n// import axios from 'axios';\r\nimport CampaignForm from '../components/CampaignForm';\r\nimport '../App.scss';\r\nimport './AddCampaign.scss';\r\n\r\n// Page for entering information about new campaign\r\nfunction AddCampaign() {\r\n\r\n    // const sendData = (event) => {\r\n    //     event.preventDefault();\r\n    //     console.log({\r\n    //         name: event.target.name.value,\r\n    //         keywords: event.target.keywords.value.split(\" \"),\r\n    //         bidAmount:event.target.bidAmount.value,\r\n    //         fund:event.target.fund.value,\r\n    //         status: event.target.status.value,\r\n    //         town: event.target.town.value,\r\n    //         radius: event.target.radius.value,\r\n    //     })\r\n    //     axios.post(\"http://192.109.240.27:8080/Campaign_add\", {\r\n    //         name: event.target.name.value,\r\n    //         keywords: event.target.keywords.value.split(\" \"),\r\n    //         bidAmount:event.target.bidAmount.value,\r\n    //         fund:event.target.fund.value,\r\n    //         status: event.target.status.value,\r\n    //         town: event.target.town.value,\r\n    //         radius: event.target.radius.value,\r\n    //     })\r\n    //     .then(res => console.log(res.data));\r\n    // }\r\n    \r\n    return (\r\n        <div>\r\n            <header>\r\n                <span>Add campaign</span>\r\n            </header>\r\n           <CampaignForm/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddCampaign\r\n","import React from 'react'\r\nimport CampaignForm from '../components/CampaignForm';\r\nimport '../App.scss';\r\nimport './AddCampaign.scss';\r\n\r\n\r\nfunction EditCampaign() {\r\n    \r\n    return (\r\n        <div>\r\n            <header>\r\n                <span>Edit campaign</span>\r\n            </header>\r\n           <CampaignForm/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditCampaign\r\n","import React from 'react';\nimport './App.scss';\nimport {BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport {HashRouter} from 'react-router-dom'\nimport Home from './pages/Home';\nimport AddCampaign from './pages/AddCampaign';\nimport EditCampaign from './pages/EditCampaign';\n\nfunction App() {\n  return (\n    <div>\n      <HashRouter>\n        <Switch>\n          <Route exact path='/' component={Home}/>\n          <Route  exact path='/AddCampaign' component={AddCampaign}/>\n          <Route  exact path='/EditCampaign' component={EditCampaign}/>\n        </Switch>\n      </HashRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './App.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}