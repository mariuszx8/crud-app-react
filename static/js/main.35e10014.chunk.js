(this["webpackJsonpcrud-app-react"]=this["webpackJsonpcrud-app-react"]||[]).push([[0],{17:function(e,t,a){},27:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(19),i=a.n(s),r=a(10),l=a(2),d=a(7),j=(a(17),a(27),a(0));var o=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("campaignData");null!=e&&e.length>0?c(JSON.parse(e)):localStorage.setItem("campaignData",[])}),[]),Object(j.jsxs)("div",{className:"campaigns-list",children:[Object(j.jsx)("div",{className:"name-header",children:"Campaigns:"}),a.length>0?a.map((function(e){return Object(j.jsxs)("div",{className:"flex-container flex-column campaign-element",children:[Object(j.jsx)("div",{className:"campaign-name",children:e.name}),Object(j.jsxs)("div",{className:"flex-container details-container",children:[Object(j.jsxs)("div",{className:"campaign-details",children:[Object(j.jsxs)("div",{children:["Keywords: ",e.keywords.map((function(e,t){return Object(j.jsx)("span",{className:"keyword",children:e},t)}))]}),Object(j.jsxs)("div",{children:["Status: ",Object(j.jsx)("span",{className:"bold",children:e.status?"on":"off"})]})]}),Object(j.jsxs)("div",{className:"campaign-details",children:[Object(j.jsxs)("div",{children:["Bid amount: ",Object(j.jsxs)("span",{className:"bold",children:[e.bidAmount," z\u0142"]})]}),Object(j.jsxs)("div",{children:["Campaign fund: ",Object(j.jsxs)("span",{className:"bold",children:[e.fund," z\u0142"]})]})]}),Object(j.jsxs)("div",{className:"campaign-details",children:[Object(j.jsxs)("div",{children:["Town: ",Object(j.jsx)("span",{className:"bold",children:e.town})]}),Object(j.jsxs)("div",{children:["Radius: ",Object(j.jsxs)("span",{className:"bold",children:[e.radius," km"]})]})]}),Object(j.jsxs)("div",{className:"campaign-options",children:[Object(j.jsx)("div",{className:"edit-btn flex-container",children:Object(j.jsxs)(r.b,{to:{pathname:"/EditCampaign",state:{campaign:e}},className:"flex-container",style:{alignItems:"center"},children:[Object(j.jsx)("span",{className:"material-icons",children:"edit"}),"Edit"]})}),Object(j.jsxs)("div",{className:"delete-btn flex-container",onClick:function(){window.confirm("Are you sure you want to delete this campaign?")&&function(e){var t=a.filter((function(t){return t._id!==e}));c(t),localStorage.setItem("campaignData",JSON.stringify(t))}(e._id)},children:[Object(j.jsx)("span",{className:"material-icons",children:"delete"}),"Delete"]})]})]})]},e._id)})):Object(j.jsx)("div",{className:"flex-container flex-column empty-campaigns",children:"Brak wpis\xf3w"})]})};a(34);var u=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(r.b,{to:"/AddCampaign",className:"btn-add",children:"+ Add campaign"}),Object(j.jsx)("main",{children:Object(j.jsx)(o,{})})]})},b=a(16),m=a(22),O=(a(35),a(39));var p=function(e){var t=e.campaign,a=Object(n.useState)(""===t._id?Object(O.a)():t._id),c=Object(d.a)(a,2),s=c[0],i=c[1],r=Object(n.useState)(t.name),o=Object(d.a)(r,2),u=o[0],p=o[1],h=Object(n.useState)(t.keywords),x=Object(d.a)(h,2),f=x[0],g=x[1],v=Object(n.useState)(t.bidAmount),w=Object(d.a)(v,2),y=w[0],N=w[1],S=Object(n.useState)(t.fund),k=Object(d.a)(S,2),C=k[0],A=k[1],E=Object(n.useState)(t.status),_=Object(d.a)(E,2),D=_[0],I=_[1],J=Object(n.useState)(t.town),q=Object(d.a)(J,2),B=q[0],R=q[1],z=Object(n.useState)(t.radius),F=Object(d.a)(z,2),K=F[0],T=F[1],M=Object(n.useState)(""!==t._id),G=Object(d.a)(M,1)[0],H=Object(l.f)(),L=[],P=[],Q=localStorage.getItem("campaignData");if(null!=Q&&Q.length>0){Q=JSON.parse(Q);for(var U=0;U<Q.length;U++){L[U]=Q[U].town;var V,W=Object(m.a)(Q[U].keywords);try{for(W.s();!(V=W.n()).done;){var X=V.value;P.push(X)}}catch($){W.e($)}finally{W.f()}}}else Q=[];var Y=Array.from(Object(b.a)(new Set(L))),Z=Array.from(Object(b.a)(new Set(P)));return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={_id:s,name:u,keywords:f,bidAmount:y,fund:C,status:D,town:B,radius:K};if(G)for(var a=0;a<Q.length;a++)Q[a]._id===s&&(Q[a]=t);else Q.push(t);localStorage.setItem("campaignData",JSON.stringify(Q)),alert("Saved campaign"),H.push("/")},onReset:function(e){i(Object(O.a)()),p(""),g([]),N(""),A(""),I(!1),R(""),T("")},children:[Object(j.jsx)("div",{children:Object(j.jsxs)("label",{children:["Campaign name:",Object(j.jsx)("input",{type:"text",name:"name",placeholder:"Enter campaign name",required:!0,value:u,onChange:function(e){return p(e.target.value)}})]})}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("label",{children:["Keywords:",Object(j.jsx)("input",{type:"text",name:"keywords",placeholder:"Enter keywords for campaign",required:!0,list:"keywords_list",value:f.join(" "),onChange:function(e){return g(e.target.value.split(" "))}}),Object(j.jsx)("datalist",{id:"keywords_list",children:Z.map((function(e,t){return Object(j.jsx)("option",{value:e},t)}))})]}),Object(j.jsxs)("label",{className:"status",children:["Status (on/off):",Object(j.jsx)("input",{type:"checkbox",name:"status",checked:D,onChange:function(e){return I(e.target.checked)}})]})]}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("label",{children:["Bid amount:",Object(j.jsx)("input",{type:"number",name:"bidAmount",placeholder:"Enter bid amount",min:"1",required:!0,value:y,onChange:function(e){return N(e.target.value)}})]}),Object(j.jsxs)("label",{children:["Campaign fund:",Object(j.jsx)("input",{type:"number",name:"fund",placeholder:"Enter campaign fund",min:"1",required:!0,value:C,onChange:function(e){return A(e.target.value)}})]})]}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("label",{children:["Town:",Object(j.jsx)("input",{list:"towns",type:"text",name:"town",placeholder:"Enter town name",value:B,onChange:function(e){return R(e.target.value)}}),Object(j.jsx)("datalist",{id:"towns",children:Y.map((function(e,t){return Object(j.jsx)("option",{value:e},t)}))})]}),Object(j.jsxs)("label",{children:["Radius [kilometers]:",Object(j.jsx)("input",{type:"number",name:"radius",placeholder:"Enter campaign radius",min:"1",required:!0,value:K,onChange:function(e){return T(e.target.value)}})]})]}),Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsx)("button",{type:"reset",children:"Reset"}),Object(j.jsx)("button",{type:"submit",children:"Submit"})]})]})};a(36);var h=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("header",{children:Object(j.jsx)("span",{children:"Add campaign"})}),Object(j.jsx)(p,{campaign:{_id:"",name:"",keywords:[],bidAmount:"",fund:"",status:!1,town:"",radius:""}})]})};var x=function(){var e,t=Object(l.f)(),a=null===(e=Object(l.g)().state)||void 0===e?void 0:e.campaign;return void 0===a?(t.push("/"),Object(j.jsx)(j.Fragment,{})):Object(j.jsxs)("div",{children:[Object(j.jsx)("header",{children:Object(j.jsx)("span",{children:"Edit campaign"})}),Object(j.jsx)(p,{campaign:a})]})};var f=function(){return Object(j.jsx)(r.a,{basename:"/crud-app-react",children:Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{exact:!0,path:"/",component:u}),Object(j.jsx)(l.a,{exact:!0,path:"/AddCampaign",component:h}),Object(j.jsx)(l.a,{exact:!0,path:"/EditCampaign",component:x})]})})};i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(f,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.35e10014.chunk.js.map